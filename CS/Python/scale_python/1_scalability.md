# Scalability 
### 확장성: 애플리케이션의 성장이 가능하도록 시스템, 네트워크 프로세스가 점점 늘어나는 작업량을 처리할 수 있는 능력 또는 확대될 수 있는 잠재력  
CPU 하나에서 실행되는 싱글 스레드 애플리케이션은 일정 수준에 이르면 더 이상의 작업 부하를 감당하기 어렵다. 확장 가능한 애플리케이션을 만들기 위해서는 작업을 분리하고 필요한 수만큼 워커를 만들어 CPU 여러 개에 분배한다.  
- 싱글 스레드 애플리케이션: 가장 단순하고 이해가 쉽고 유지 보수도 쉽다.(성능은 제한적.)
- 멀티 스레드 애플리케이션: 애플리케이션이 CPU에 과부하를 준다면 새로운 스레드 또는 프로세스를 생성해서 다른 CPU로 작업 부하를 분산한다.
- 네트워크 분산 애플리케이션: 충분한 CPU를 장착한 대형 컴퓨터 하나로도 애플리케이션 성능을 끌어올리지 못할 때 사용한다. 네트워크를 사용하므로 가장 복잡하고, 일부 노드나 네트워크의 전체 또는 부분 오류, 긴 지연 시간, 메시지 손시르 네트워크 신뢰성 등과 관련된 모든 위험 상황을 처리할 수 있어야 한다.  

## CPU를 통한 분산
멀티 스레딩: 스레드 여러 개를 활용해서 코드를 병렬로 실행.  
멀티 스레딩은 컴퓨터 한 대가 CPU가 여러 개일 때 애플리케이션을 확장하고 병렬화 할 수 있는 좋은 방법이다. 작업 부하를 분산하고 싶다면 스레드 하나에서 순차적으로 요청을 처리하는 대신, 각 요청마다 새로운 스레드를 생성해서 처리한다. 

> GIL(global interpreter lock: 전역 인터프리터 잠금): CPython이 바이트코드를 실행할 때마다 획득하는 잠금이다. 스레드 여러 개로 애플리케이션을 확장하더라도 GIL로 인해 성능 향상은 제한적이다. 모든 스레드는 파이썬 코드를 실행할 때 GIL을 얻으려고 서로 경합한다.
> * GIL이 필요한 이유: 파이썬이 기본으로 제공하는 일부 객체가 스레드에 안전하다는 것을 보장하기 위해서이다.
> ```python
> import threading
> 
> x = []
> 
> def append_two(l):
>    l.append(2)
> 
> threading.Thread(target=append_two, arg=(x,)).start()
> 
> x.append(1)
> print(x) 
> ```
> 위 코드는 [1,2], [2,1]을 출력한다. 어느 스레드가 다른 스레드보다 먼저 1 또는 2를 추가할지 알 수 있는 방법은 없지만, 파이썬에서 list.append는 원자적 연산인다. 원자적 연산이 아니라면 메모리 간섭이 발생해서 리스트의 값이 [1] 또는 [2]가 될 수 있다.  
> 따라서, 파이썬에서는 멀티 스레딩은 좋은 방법이 아닐 수 있다.

## 분산 시스템
네트워크를 통해 서로 연결된 서버 여러 대를 사용한다. 즉 애플리케이션을 노드 하나가 아니라 연결된 노드 여러 대에서 실행하는 방식으로 분산한다.  
### 장점
- 트래픽이 증가함에 따라 새로운 노드를 추가할 수 있는 수평 확장성.
- 특정 노드가 다운됐을 때 다른 노드가 장애 발생 노드의 트래픽까지 처리할 수 있는 장애 허용성
### 단점
- 멀티 스레딩과 같은 동시성 및 병렬 처리로 인한 작업 흐름의 복잡성
- 연산 도중 특정 노드 장애, 네트워크 지연 등 장애 상황이 다양하므로 일정 수준의 장애를 허용할 수 있어야 함

## 서비스 지향 아키텍처(service-oriented architecture, SQA)

독립적인 컴포넌트 여러 개가 네트워크를 통해 연동되는 아키텍처 형태다. 각 서비스는 자체적으로 동작 가능한 개별적인 기능 단위이므로 처리할 작업 역시 상호 작영에 따른 논리적 단위로 나뉘어야 한다. 